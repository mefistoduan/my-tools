<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>关键词补全</title>
    <script src="../jquery-1.7.2.js"></script>
</head>
<body>
<div>联动搜索：</div>
<p>
    搜索：<input type="text" id="seo"/>
</p>
<p>
    显示：<select name="" id="seocon" size="5">
    <option value="">诶接健健康康</option>
    <option value="">你级空间链接</option>
    <option value="">太456</option>
    <option value="">玩家将能够可靠</option>
    <option value="">破骨毛利率嘎嘎嘎嘎嘎嘎</option>
    <option value="">111111111111111111</option>
    <option value="">222222222222222222222</option>
    <option value="">333333333333333333</option>
    <option value="">4444444444444444444</option>
    <option value="">555555555555555555555</option>
    <option value="">55555555555555556665</option>
</select>
</p>
<script>
    $(function(){
//start
        var conl=$("#seocon").find("option").length;//获取option总数量
        var cono=$("#seocon").find("option");//option节点
        var cona=[];//空数组，存储每个option值
        for(var i=0;i<conl;i++){
            cono.eq(i).attr('name',i);//按索引，给option添加name属性
            cona.push(cono.eq(i).html());//数组存放所有option值
        };
        $("#seo").keyup(function(event){
            //搜索框输入内容事件
            var nowl=$("#seocon").find("option").length;//继续输入数值，存储当前option个数，变化后
            if(nowl<conl){//当前option小于原始个数
                $("#seocon").find("option").remove();//option全部删除
                for(var i=0;i<conl;i++){
                    $("#seocon").append('<option name="'+i+'">'+cona[i]+'</option>');//把原始的option从新插入到select中，添加好name属性和里面内容
                };
            }
            var seotext=$(this).val();//搜索框内容
            for(i=0;i<conl;i++){
                //alert($("#seocon").find("option[name='"+i+"']").html());
                if($("#seocon").find("option[name='"+i+"']").html().match(seotext)){//如果option内容包含搜索框内容
                    //不处理
                }else{
                    $("#seocon").find("option[name='"+i+"']").remove();//把节点remove
                }
            }
        });
        $("#seocon").find("option").click(function(){
            $("#seo").val($(this).html());
        });
//end
    });
</script>
<!--关键难点，一个是match的使用，再一个就是对keyup后数据的遍历操作-->
</body>
</html>